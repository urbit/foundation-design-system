{"version":3,"file":"index.js","sources":["../../src/components/layout/Container/Container.js","../../src/components/layout/SingleColumn/SingleColumn.js","../../src/components/layout/Section/Section.js","../../src/components/layout/Footer/Footer.js","../../src/schema/heading.markdoc.js","../../src/schema/footnoteRef.markdoc.js","../../src/schema/footnoteItem.markdoc.js","../../src/schema/link.markdoc.js","../../src/schema/image.markdoc.js","../../src/schema/superscript.markdoc.js","../../src/components/markdown/Tabs.js","../../src/components/markdown/Tab.js","../../src/components/markdown/Button.js","../../src/components/markdown/Callout.js","../../src/components/Markdown.js"],"sourcesContent":["import React from \"react\";\n\nexport default function Container({ children }) {\n  return (\n    <div className=\"flex flex-col min-h-screen w-screen max-w-full items-center\">\n      {children}\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function SingleColumn({ children }) {\n  return (\n    <div className=\"flex flex-col w-full items-center max-w-screen-2xl\">\n      {children}\n    </div>\n  );\n}\n","import classnames from \"classnames\";\nimport React from \"react\";\n\nexport default function Section({\n  children,\n  className = \"\",\n  short = false,\n  narrow = false,\n}) {\n  const spacing = classnames({\n    \"py-8\": short,\n    \"py-20\": !short,\n    \"layout-narrow\": narrow,\n    layout: !narrow,\n  });\n  return (\n    <section className={`w-full px-4 md:px-8 ${spacing} ${className}`}>\n      {children}\n    </section>\n  );\n}\n","import Link from \"next/link\";\nimport SingleColumn from \"../SingleColumn\";\nimport Section from \"../Section\";\nimport React from \"react\";\n\nexport default function Footer({ data = [[{}], [{}]] }) {\n  return (\n    <footer className=\"bg-wall-100 mt-20 w-full flex justify-center\">\n      <SingleColumn>\n        <Section short className=\"flex flex-row flex-wrap\">\n          {data?.[0]?.map((section) => {\n            return (\n              <div\n                key={section.title}\n                className=\"w-1/2 md:w-1/3 flex flex-col shrink\"\n              >\n                <h4 className=\"mt-16 mb-8\">{section.title}</h4>\n                {section.links.map((link) => {\n                  return (\n                    <Link key={link.href} href={link.href} passHref>\n                      <a className=\"type-medium text-wall-500\">{link.title}</a>\n                    </Link>\n                  );\n                })}\n              </div>\n            );\n          })}\n        </Section>\n        <Section className=\"flex flex-col md:flex-row\">\n          {data?.[1]?.map((link) => {\n            return (\n              <div key={link.href} className=\"md:w-1/3\">\n                <Link href={link.href} passHref>\n                  <a className=\"type-medium text-wall-500\">{link.title}</a>\n                </Link>\n              </div>\n            );\n          })}\n        </Section>\n      </SingleColumn>\n    </footer>\n  );\n}\n","import { Tag } from \"@markdoc/markdoc\";\n\nfunction generateID(children, attributes) {\n  if (attributes.id && typeof attributes.id === \"string\") {\n    return attributes.id;\n  }\n\n  const bottomChildren = children\n    .map((child) => (child.children ? child.children : child))\n    .flat();\n  return bottomChildren\n    .filter((child) => typeof child === \"string\")\n    .join(\" \")\n    .replace(/[=?!><:;,+#^|$&~\"*@\\.%/]/g, \"\")\n    .replace(/\\s+/g, \"-\")\n    .toLowerCase();\n}\n\nexport const heading = {\n  children: [\"inline\"],\n  attributes: {\n    id: { type: String },\n    level: { type: Number, required: true, default: 1 },\n  },\n  transform(node, config) {\n    const attributes = node.transformAttributes(config);\n    const children = node.transformChildren(config);\n\n    const id = generateID(children, attributes);\n\n    return new Tag(\n      `h${node.attributes[\"level\"]}`,\n      { ...attributes, id },\n      children\n    );\n  },\n};\n","import { Config, Node, Tag } from \"@markdoc/markdoc\";\n\nexport const footnoteRef = {\n  attributes: {\n    id: { type: String, render: true, required: true },\n    href: { type: String, render: true, required: true },\n    label: { type: String, render: false, required: true },\n  },\n  transform(node, config) {\n    const attributes = node.transformAttributes(config);\n    const link = new Tag(\"a\", attributes, [`${node.attributes.label}`]);\n    return new Tag(`sup`, { class: \"footnote-ref\" }, [link]);\n  },\n};\n","import { Ast, Config, Node, Tag } from \"@markdoc/markdoc\";\n\nexport const footnoteItem = {\n  attributes: {\n    id: { type: String, render: true, required: true },\n    href: { type: String, render: false, required: true },\n  },\n  transform(node, config) {\n    node.attributes.class = `footnote-item`;\n    const anchor = new Ast.Node(\n      \"link\",\n      { class: \"footnote-anchor\", href: node.attributes.href },\n      [new Ast.Node(\"text\", { content: \"â†©\" })]\n    );\n    node.push(anchor);\n    return new Tag(\n      \"li\",\n      node.transformAttributes(config),\n      node.transformChildren(config)\n    );\n  },\n};\n","import { Tag } from \"@markdoc/markdoc\";\n\nfunction checkIfExternal(attributes) {\n  const href = attributes.href;\n  if (\n    href.includes(\"urbit.org\") ||\n    href.startsWith(\"/\") ||\n    href.startsWith(\"#\") ||\n    href.startsWith(\"?\")\n  ) {\n    return \"_self\";\n  } else {\n    return \"_blank\";\n  }\n}\n\nexport const link = {\n  render: \"NextLink\",\n  children: [\"strong\", \"em\", \"s\", \"code\", \"text\", \"tag\"],\n  attributes: {\n    href: { type: String, required: true },\n    title: { type: String },\n    target: { type: String },\n  },\n  transform(node, config) {\n    const attributes = node.transformAttributes(config);\n    const children = node.transformChildren(config);\n\n    const target = checkIfExternal(attributes);\n\n    return new Tag(\"NextLink\", { ...attributes, target }, children);\n  },\n};\n","import { Tag } from \"@markdoc/markdoc\";\n\nexport const image = {\n  render: \"span\",\n  attributes: {\n    src: { type: String, required: true },\n    alt: { type: String },\n    title: { type: String },\n  },\n  transform(node, config) {\n    const attributes = node.transformAttributes(config);\n    const children = node.transformChildren(config);\n    const imageTag = new Tag(\"img\", attributes, children);\n    return new Tag(\"span\", { id: \"figure\" }, [imageTag]);\n  },\n};\n","import { Tag } from \"@markdoc/markdoc\";\n\nexport const sup = {\n  render: \"superscript\",\n  children: [\"strong\", \"em\", \"s\", \"code\", \"text\", \"tag\"],\n  attributes: {},\n  transform(node, config) {\n    return new Tag(\n      `sup`,\n      node.transformAttributes(config),\n      node.transformChildren(config)\n    );\n  },\n};\n","import React from \"react\";\n\nexport const TabContext = React.createContext();\n\nconst Tabs = ({ labels, children }) => {\n  const [currentTab, setCurrentTab] = React.useState(labels[0]);\n\n  return (\n    <TabContext.Provider value={currentTab}>\n      <ul className=\"flex items-center display cursor-pointer space-x-4\">\n        {labels.map((label) => (\n          <li\n            className={\n              \"block bg-wall-100 tab rounded-xl \" +\n              (currentTab === label ? \"font-semibold\" : \"\")\n            }\n            key={label}\n            onClick={() => setCurrentTab(label)}\n          >\n            {label}\n          </li>\n        ))}\n      </ul>\n      {children}\n    </TabContext.Provider>\n  );\n};\n\nexport default Tabs;\n","import React from \"react\";\nimport { TabContext } from \"./Tabs\";\n\nconst Tab = ({ label, children }) => {\n  const currentTab = React.useContext(TabContext);\n\n  if (label !== currentTab) {\n    return null;\n  }\n\n  return children;\n};\n\nexport default Tab;\n","import React from \"react\";\nimport Link from \"next/link\";\n\nconst Button = ({ label, link, color }) => {\n  return (\n    <Link passHref href={link}>\n      <a className={\"button-lg max-w-fit \" + color}>{label}</a>\n    </Link>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n\nconst Callout = ({ title, children }) => {\n  return (\n    <div className=\"bg-wall-100 rounded-xl display p-7 flex flex-col space-y-4\">\n      {title && <h2>{title}</h2>}\n      {children}\n    </div>\n  );\n};\n\nexport default Callout;\n","import React from \"react\";\nimport Link from \"next/link\";\nimport Markdoc, { Ast, Tag } from \"@markdoc/markdoc\";\nimport { heading } from \"../schema/heading.markdoc.js\";\nimport { footnoteRef } from \"../schema/footnoteRef.markdoc.js\";\nimport { footnoteItem } from \"../schema/footnoteItem.markdoc.js\";\nimport { link } from \"../schema/link.markdoc.js\";\nimport { image } from \"../schema/image.markdoc.js\";\nimport { sup } from \"../schema/superscript.markdoc.js\";\nimport Tabs from \"./markdown/Tabs\";\nimport Tab from \"./markdown/Tab\";\nimport Button from \"./markdown/Button\";\nimport Callout from \"./markdown/Callout\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport parse from \"html-react-parser\";\nimport Prism from \"prism-react-renderer/prism\";\n(typeof global !== \"undefined\" ? global : window).Prism = Prism;\nrequire(\"prismjs/components/prism-hoon\");\n\nexport function Fence({ children, language }) {\n  return (\n    <Highlight\n      {...defaultProps}\n      key={language}\n      language={language}\n      code={children}\n      theme={undefined}\n    >\n      {({ className, style, tokens, getLineProps, getTokenProps }) => (\n        <pre className={className} style={style}>\n          {tokens.slice(0, -1).map((line, i) => (\n            <div {...getLineProps({ line, key: i })}>\n              {line.map((token, key) => (\n                <span {...getTokenProps({ token, key })} />\n              ))}\n            </div>\n          ))}\n        </pre>\n      )}\n    </Highlight>\n  );\n}\n\nconst fence = {\n  render: \"Fence\",\n  attributes: {\n    language: {\n      type: String,\n      description:\n        \"The programming language of the code block. Place it after the backticks.\",\n    },\n  },\n};\n\nconst tab = {\n  render: \"Tab\",\n  attributes: {\n    label: {\n      type: String,\n    },\n  },\n};\n\nconst tabs = {\n  render: \"Tabs\",\n  attributes: {},\n  transform(node, config) {\n    const labels = node\n      .transformChildren(config)\n      .filter((child) => child && child.name === \"Tab\")\n      .map((tab) => (typeof tab === \"object\" ? tab.attributes.label : null));\n\n    return new Tag(this.render, { labels }, node.transformChildren(config));\n  },\n};\n\nconst button = {\n  render: \"Button\",\n  attributes: {\n    label: {\n      type: String,\n    },\n    link: {\n      type: String,\n    },\n    color: {\n      type: String,\n    },\n  },\n};\n\nconst callout = {\n  render: \"Callout\",\n  attributes: {\n    title: {\n      type: String,\n    },\n  },\n};\n\nconst customFence = {\n  render: \"CustomFence\",\n  attributes: {},\n};\n\nconst html = {\n  render: \"RenderHtml\",\n  attributes: {\n    content: {\n      type: String,\n    },\n  },\n  transform(node) {\n    return node.attributes.content\n      ? new Tag(\"RenderHtml\", { content: node.attributes.content }, [\n          node.inline,\n        ])\n      : null;\n  },\n};\n\nconst RenderHtml = ({ content }) => {\n  return parse(content);\n};\n\nconst superscript = ({ children }) => <sup>{children}</sup>;\n\nconst CustomFence = ({ children }) => <pre>{children}</pre>;\n\nconst NextLink = ({ href, target, children }) => {\n  return (\n    <Link href={href} passHref>\n      <a target={target}>{children}</a>\n    </Link>\n  );\n};\n\nexport function MarkdownParse({ post }) {\n  const tokeniser = new Markdoc.Tokenizer({ html: true, linkify: true });\n  const tokens = tokeniser.tokenize(post.content);\n  const ast = Markdoc.parse(tokens);\n  const finalAst = footnoteParse(ast);\n  return Markdoc.transform(finalAst, {\n    nodes: {\n      fence,\n      heading,\n      image,\n      link,\n      footnoteItem,\n      footnoteRef,\n      html,\n      sup,\n    },\n    tags: {\n      tabs,\n      tab,\n      button,\n      callout,\n      customFence,\n      RenderHtml,\n      superscript,\n      NextLink,\n    },\n  });\n}\n\nexport function MarkdownRender({ content }) {\n  return Markdoc.renderers.react(content, React, {\n    components: {\n      Fence,\n      Tabs,\n      Tab,\n      Button,\n      Callout,\n      CustomFence,\n      RenderHtml,\n      NextLink,\n    },\n  });\n}\n\nconst footnoteParse = (partialAst) => {\n  const endNotePattern = /\\[\\^(\\d+)\\]:\\s/m;\n  const inlineFnPattern = /\\[\\^(\\d+)\\](?!:)/gm;\n\n  function* getFootnoteItemNodes(nodes) {\n    let results = [];\n    let itemsProcessed = 0;\n    for (const n of nodes) {\n      itemsProcessed += 1;\n      if (n.type !== \"softbreak\") results.push(n);\n      if (n.type === \"softbreak\" || itemsProcessed === nodes.length) {\n        yield results;\n        results = [];\n      }\n    }\n  }\n\n  function findFootnoteContainerNode(ast) {\n    const generator = ast.walk();\n    let container;\n    let match = false;\n    for (const node of generator) {\n      if (\n        node.attributes.content &&\n        endNotePattern.test(node.attributes.content)\n      ) {\n        match = true;\n        generator.return();\n      }\n      if (node.type === \"inline\") container = node;\n    }\n    return match ? container : undefined;\n  }\n\n  function processFootnotes(ast) {\n    // Get a refrence to the node containing endNotes; if not present, early return\n    const fnContainerNode = findFootnoteContainerNode(ast);\n    if (!fnContainerNode) return;\n    // We have footnotes, so create a new list node which will contain the list of endNotes\n    const fnList = new Ast.Node(\"list\", {\n      ordered: true,\n      class: \"footnotes\",\n    });\n    // Get the children nodes for each footnote item\n    const fnItems = getFootnoteItemNodes(fnContainerNode.children);\n    for (const fn of fnItems) {\n      const token = endNotePattern.exec(fn[0].attributes.content);\n      if (token) {\n        // Remove the markdown footnote syntax (e.g. [^1]) from the string\n        fn[0].attributes.content = fn[0].attributes.content.replace(\n          token[0],\n          \"\"\n        );\n        // Create a new footnote item and append to the fnList\n        const id = token[1];\n        const fnItem = new Ast.Node(\n          \"footnoteItem\",\n          {\n            id: `fn${id}`,\n            href: `#fnref${id}`,\n          },\n          fn\n        );\n        fnList.push(fnItem);\n      }\n    }\n    ast.children.pop(); // remove the last paragraph in the doc being replaced by the fnList\n    ast.push(fnList);\n  }\n\n  function processFootnoteRefs(ast) {\n    let parent = ast;\n    for (const node of ast.walk()) {\n      if (node.attributes.content) {\n        // Check if there's a footnote ref token\n        const token = inlineFnPattern.exec(node.attributes.content);\n        if (token) {\n          // Break the string where the foonote ref is, assign first part of string to the current node content\n          const [prevText, nextText] = node.attributes.content.split(token[0]);\n          node.attributes.content = prevText;\n\n          // Create a footnote node and insert it in the tree\n          const id = token[1];\n          const fn = new Ast.Node(\"footnoteRef\", {\n            id: `fnref${id}`,\n            href: `#fn${id}`,\n            label: `${id}`,\n          });\n          parent.push(fn);\n\n          // Create a text node for the text which follows after the footnote and insert it in the tree\n          const next = new Ast.Node(\"text\", { content: nextText });\n          parent.push(next);\n        }\n      }\n      // If the node is of inline type, update parent\n      if (node.type == \"inline\") parent = node;\n    }\n  }\n\n  processFootnoteRefs(partialAst);\n  processFootnotes(partialAst);\n  return partialAst;\n};\n\nconst Markdown = {\n  parse: MarkdownParse,\n  render: MarkdownRender,\n};\n\nexport default Markdown;\n"],"names":["Container","children","React","SingleColumn","Section","className","short","narrow","spacing","classnames","layout","Footer","data","map","section","title","links","link","Link","href","generateID","attributes","id","bottomChildren","child","flat","filter","join","replace","toLowerCase","heading","type","String","level","Number","required","default","transform","node","config","transformAttributes","transformChildren","Tag","footnoteRef","render","label","class","footnoteItem","anchor","Ast","Node","content","push","checkIfExternal","includes","startsWith","target","image","src","alt","imageTag","sup","TabContext","createContext","Tabs","labels","currentTab","setCurrentTab","useState","Tab","useContext","Button","color","Callout","global","window","Prism","require","Fence","language","Highlight","defaultProps","undefined","style","tokens","getLineProps","getTokenProps","slice","line","i","key","token","fence","description","tab","tabs","name","button","callout","customFence","html","inline","RenderHtml","parse","superscript","CustomFence","NextLink","MarkdownParse","post","tokeniser","Markdoc","Tokenizer","linkify","tokenize","ast","finalAst","footnoteParse","nodes","tags","MarkdownRender","renderers","react","components","partialAst","endNotePattern","inlineFnPattern","getFootnoteItemNodes","results","itemsProcessed","n","length","findFootnoteContainerNode","generator","walk","container","match","test","return","processFootnotes","fnContainerNode","fnList","ordered","fnItems","fn","exec","fnItem","pop","processFootnoteRefs","parent","prevText","nextText","split","next","Markdown"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,SAAT,CAAmB;AAAEC,EAAAA,QAAAA;AAAF,CAAnB,EAAiC;EAC9C,oBACEC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,6DAAA;AAAf,GAAA,EACGD,QADH,CADF,CAAA;AAKD;;ACNc,SAASE,YAAT,CAAsB;AAAEF,EAAAA,QAAAA;AAAF,CAAtB,EAAoC;EACjD,oBACEC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,oDAAA;AAAf,GAAA,EACGD,QADH,CADF,CAAA;AAKD;;ACLc,SAASG,OAAT,CAAiB;EAC9BH,QAD8B;AAE9BI,EAAAA,SAAS,GAAG,EAFkB;AAG9BC,EAAAA,KAAK,GAAG,KAHsB;AAI9BC,EAAAA,MAAM,GAAG,KAAA;AAJqB,CAAjB,EAKZ;EACD,MAAMC,OAAO,GAAGC,8BAAU,CAAC;AACzB,IAAA,MAAA,EAAQH,KADiB;AAEzB,IAAA,OAAA,EAAS,CAACA,KAFe;AAGzB,IAAA,eAAA,EAAiBC,MAHQ;AAIzBG,IAAAA,MAAM,EAAE,CAACH,MAAAA;AAJgB,GAAD,CAA1B,CAAA;EAMA,oBACEL,yBAAA,CAAA,aAAA,CAAA,SAAA,EAAA;AAAS,IAAA,SAAS,EAAG,CAAA,oBAAA,EAAsBM,OAAQ,CAAA,CAAA,EAAGH,SAAU,CAAA,CAAA;AAAhE,GAAA,EACGJ,QADH,CADF,CAAA;AAKD;;ACfc,SAASU,MAAT,CAAgB;EAAEC,IAAI,GAAG,CAAC,CAAC,EAAD,CAAD,EAAO,CAAC,EAAD,CAAP,CAAA;AAAT,CAAhB,EAAyC;EACtD,oBACEV,yBAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,IAAA,SAAS,EAAC,8CAAA;AAAlB,GAAA,eACEA,yBAAC,CAAA,aAAA,CAAA,YAAD,EACE,IAAA,eAAAA,yBAAA,CAAA,aAAA,CAAC,OAAD,EAAA;AAAS,IAAA,KAAK,EAAd,IAAA;AAAe,IAAA,SAAS,EAAC,yBAAA;GACtBU,EAAAA,IAAI,GAAG,CAAH,CAAJ,EAAWC,GAAX,CAAgBC,OAAD,IAAa;IAC3B,oBACEZ,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;MACE,GAAG,EAAEY,OAAO,CAACC,KADf;AAEE,MAAA,SAAS,EAAC,qCAAA;KAEV,eAAAb,yBAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAI,MAAA,SAAS,EAAC,YAAA;AAAd,KAAA,EAA4BY,OAAO,CAACC,KAApC,CAJF,EAKGD,OAAO,CAACE,KAAR,CAAcH,GAAd,CAAmBI,IAAD,IAAU;AAC3B,MAAA,oBACEf,wCAACgB,wBAAD,EAAA;QAAM,GAAG,EAAED,IAAI,CAACE,IAAhB;QAAsB,IAAI,EAAEF,IAAI,CAACE,IAAjC;QAAuC,QAAQ,EAAA,IAAA;OAC7C,eAAAjB,yBAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,QAAA,SAAS,EAAC,2BAAA;AAAb,OAAA,EAA0Ce,IAAI,CAACF,KAA/C,CADF,CADF,CAAA;AAKD,KANA,CALH,CADF,CAAA;AAeD,GAhBA,CADH,CADF,eAoBEb,yBAAA,CAAA,aAAA,CAAC,OAAD,EAAA;AAAS,IAAA,SAAS,EAAC,2BAAA;GAChBU,EAAAA,IAAI,GAAG,CAAH,CAAJ,EAAWC,GAAX,CAAgBI,IAAD,IAAU;IACxB,oBACEf,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;MAAK,GAAG,EAAEe,IAAI,CAACE,IAAf;AAAqB,MAAA,SAAS,EAAC,UAAA;AAA/B,KAAA,eACEjB,wCAACgB,wBAAD,EAAA;MAAM,IAAI,EAAED,IAAI,CAACE,IAAjB;MAAuB,QAAQ,EAAA,IAAA;KAC7B,eAAAjB,yBAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,MAAA,SAAS,EAAC,2BAAA;AAAb,KAAA,EAA0Ce,IAAI,CAACF,KAA/C,CADF,CADF,CADF,CAAA;GADD,CADH,CApBF,CADF,CADF,CAAA;AAoCD;;;;;;;;;;;;;;;;;;;ACxCD,SAASK,UAAT,CAAoBnB,QAApB,EAA8BoB,UAA9B,EAA0C;EACxC,IAAIA,UAAU,CAACC,EAAX,IAAiB,OAAOD,UAAU,CAACC,EAAlB,KAAyB,QAA9C,EAAwD;IACtD,OAAOD,UAAU,CAACC,EAAlB,CAAA;AACD,GAAA;;AAED,EAAA,MAAMC,cAAc,GAAGtB,QAAQ,CAC5BY,GADoB,CACfW,KAAD,IAAYA,KAAK,CAACvB,QAAN,GAAiBuB,KAAK,CAACvB,QAAvB,GAAkCuB,KAD9B,CAAA,CAEpBC,IAFoB,EAAvB,CAAA;AAGA,EAAA,OAAOF,cAAc,CAClBG,MADI,CACIF,KAAD,IAAW,OAAOA,KAAP,KAAiB,QAD/B,CAEJG,CAAAA,IAFI,CAEC,GAFD,CAGJC,CAAAA,OAHI,CAGI,2BAHJ,EAGiC,EAHjC,CAIJA,CAAAA,OAJI,CAII,MAJJ,EAIY,GAJZ,CAKJC,CAAAA,WALI,EAAP,CAAA;AAMD,CAAA;;AAEM,MAAMC,OAAO,GAAG;EACrB7B,QAAQ,EAAE,CAAC,QAAD,CADW;AAErBoB,EAAAA,UAAU,EAAE;AACVC,IAAAA,EAAE,EAAE;AAAES,MAAAA,IAAI,EAAEC,MAAAA;KADF;AAEVC,IAAAA,KAAK,EAAE;AAAEF,MAAAA,IAAI,EAAEG,MAAR;AAAgBC,MAAAA,QAAQ,EAAE,IAA1B;AAAgCC,MAAAA,OAAO,EAAE,CAAA;AAAzC,KAAA;GAJY;;AAMrBC,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,MAAMlB,UAAU,GAAGiB,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAAnB,CAAA;AACA,IAAA,MAAMtC,QAAQ,GAAGqC,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAAjB,CAAA;AAEA,IAAA,MAAMjB,EAAE,GAAGF,UAAU,CAACnB,QAAD,EAAWoB,UAAX,CAArB,CAAA;AAEA,IAAA,OAAO,IAAIqB,WAAJ,CACJ,CAAA,CAAA,EAAGJ,IAAI,CAACjB,UAAL,CAAgB,OAAhB,CAAyB,CAAA,CADxB,EAEL,EAAE,GAAGA,UAAL;AAAiBC,MAAAA,EAAAA;KAFZ,EAGLrB,QAHK,CAAP,CAAA;AAKD,GAAA;;AAjBoB,CAAhB;;AChBA,MAAM0C,WAAW,GAAG;AACzBtB,EAAAA,UAAU,EAAE;AACVC,IAAAA,EAAE,EAAE;AAAES,MAAAA,IAAI,EAAEC,MAAR;AAAgBY,MAAAA,MAAM,EAAE,IAAxB;AAA8BT,MAAAA,QAAQ,EAAE,IAAA;KADlC;AAEVhB,IAAAA,IAAI,EAAE;AAAEY,MAAAA,IAAI,EAAEC,MAAR;AAAgBY,MAAAA,MAAM,EAAE,IAAxB;AAA8BT,MAAAA,QAAQ,EAAE,IAAA;KAFpC;AAGVU,IAAAA,KAAK,EAAE;AAAEd,MAAAA,IAAI,EAAEC,MAAR;AAAgBY,MAAAA,MAAM,EAAE,KAAxB;AAA+BT,MAAAA,QAAQ,EAAE,IAAA;AAAzC,KAAA;GAJgB;;AAMzBE,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,MAAMlB,UAAU,GAAGiB,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAAnB,CAAA;AACA,IAAA,MAAMtB,IAAI,GAAG,IAAIyB,WAAJ,CAAQ,GAAR,EAAarB,UAAb,EAAyB,CAAE,CAAA,EAAEiB,IAAI,CAACjB,UAAL,CAAgBwB,KAAM,CAAA,CAA1B,CAAzB,CAAb,CAAA;AACA,IAAA,OAAO,IAAIH,WAAJ,CAAS,CAAA,GAAA,CAAT,EAAe;AAAEI,MAAAA,KAAK,EAAE,cAAA;AAAT,KAAf,EAA0C,CAAC7B,IAAD,CAA1C,CAAP,CAAA;AACD,GAAA;;AAVwB,CAApB;;ACAA,MAAM8B,YAAY,GAAG;AAC1B1B,EAAAA,UAAU,EAAE;AACVC,IAAAA,EAAE,EAAE;AAAES,MAAAA,IAAI,EAAEC,MAAR;AAAgBY,MAAAA,MAAM,EAAE,IAAxB;AAA8BT,MAAAA,QAAQ,EAAE,IAAA;KADlC;AAEVhB,IAAAA,IAAI,EAAE;AAAEY,MAAAA,IAAI,EAAEC,MAAR;AAAgBY,MAAAA,MAAM,EAAE,KAAxB;AAA+BT,MAAAA,QAAQ,EAAE,IAAA;AAAzC,KAAA;GAHkB;;AAK1BE,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtBD,IAAAA,IAAI,CAACjB,UAAL,CAAgByB,KAAhB,GAAyB,CAAzB,aAAA,CAAA,CAAA;IACA,MAAME,MAAM,GAAG,IAAIC,WAAG,CAACC,IAAR,CACb,MADa,EAEb;AAAEJ,MAAAA,KAAK,EAAE,iBAAT;AAA4B3B,MAAAA,IAAI,EAAEmB,IAAI,CAACjB,UAAL,CAAgBF,IAAAA;KAFrC,EAGb,CAAC,IAAI8B,WAAG,CAACC,IAAR,CAAa,MAAb,EAAqB;AAAEC,MAAAA,OAAO,EAAE,GAAA;KAAhC,CAAD,CAHa,CAAf,CAAA;IAKAb,IAAI,CAACc,IAAL,CAAUJ,MAAV,CAAA,CAAA;AACA,IAAA,OAAO,IAAIN,WAAJ,CACL,IADK,EAELJ,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAFK,EAGLD,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAHK,CAAP,CAAA;AAKD,GAAA;;AAlByB,CAArB;;ACAP,SAASc,eAAT,CAAyBhC,UAAzB,EAAqC;AACnC,EAAA,MAAMF,IAAI,GAAGE,UAAU,CAACF,IAAxB,CAAA;;EACA,IACEA,IAAI,CAACmC,QAAL,CAAc,WAAd,CACAnC,IAAAA,IAAI,CAACoC,UAAL,CAAgB,GAAhB,CADA,IAEApC,IAAI,CAACoC,UAAL,CAAgB,GAAhB,CAFA,IAGApC,IAAI,CAACoC,UAAL,CAAgB,GAAhB,CAJF,EAKE;AACA,IAAA,OAAO,OAAP,CAAA;AACD,GAPD,MAOO;AACL,IAAA,OAAO,QAAP,CAAA;AACD,GAAA;AACF,CAAA;;AAEM,MAAMtC,IAAI,GAAG;AAClB2B,EAAAA,MAAM,EAAE,UADU;AAElB3C,EAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,IAAX,EAAiB,GAAjB,EAAsB,MAAtB,EAA8B,MAA9B,EAAsC,KAAtC,CAFQ;AAGlBoB,EAAAA,UAAU,EAAE;AACVF,IAAAA,IAAI,EAAE;AAAEY,MAAAA,IAAI,EAAEC,MAAR;AAAgBG,MAAAA,QAAQ,EAAE,IAAA;KADtB;AAEVpB,IAAAA,KAAK,EAAE;AAAEgB,MAAAA,IAAI,EAAEC,MAAAA;KAFL;AAGVwB,IAAAA,MAAM,EAAE;AAAEzB,MAAAA,IAAI,EAAEC,MAAAA;AAAR,KAAA;GANQ;;AAQlBK,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,MAAMlB,UAAU,GAAGiB,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAAnB,CAAA;AACA,IAAA,MAAMtC,QAAQ,GAAGqC,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAAjB,CAAA;AAEA,IAAA,MAAMiB,MAAM,GAAGH,eAAe,CAAChC,UAAD,CAA9B,CAAA;AAEA,IAAA,OAAO,IAAIqB,WAAJ,CAAQ,UAAR,EAAoB,EAAE,GAAGrB,UAAL;AAAiBmC,MAAAA,MAAAA;KAArC,EAA+CvD,QAA/C,CAAP,CAAA;AACD,GAAA;;AAfiB,CAAb;;ACdA,MAAMwD,KAAK,GAAG;AACnBb,EAAAA,MAAM,EAAE,MADW;AAEnBvB,EAAAA,UAAU,EAAE;AACVqC,IAAAA,GAAG,EAAE;AAAE3B,MAAAA,IAAI,EAAEC,MAAR;AAAgBG,MAAAA,QAAQ,EAAE,IAAA;KADrB;AAEVwB,IAAAA,GAAG,EAAE;AAAE5B,MAAAA,IAAI,EAAEC,MAAAA;KAFH;AAGVjB,IAAAA,KAAK,EAAE;AAAEgB,MAAAA,IAAI,EAAEC,MAAAA;AAAR,KAAA;GALU;;AAOnBK,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,MAAMlB,UAAU,GAAGiB,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAAnB,CAAA;AACA,IAAA,MAAMtC,QAAQ,GAAGqC,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAAjB,CAAA;IACA,MAAMqB,QAAQ,GAAG,IAAIlB,WAAJ,CAAQ,KAAR,EAAerB,UAAf,EAA2BpB,QAA3B,CAAjB,CAAA;AACA,IAAA,OAAO,IAAIyC,WAAJ,CAAQ,MAAR,EAAgB;AAAEpB,MAAAA,EAAE,EAAE,QAAA;AAAN,KAAhB,EAAkC,CAACsC,QAAD,CAAlC,CAAP,CAAA;AACD,GAAA;;AAZkB,CAAd;;ACAA,MAAMC,GAAG,GAAG;AACjBjB,EAAAA,MAAM,EAAE,aADS;AAEjB3C,EAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,IAAX,EAAiB,GAAjB,EAAsB,MAAtB,EAA8B,MAA9B,EAAsC,KAAtC,CAFO;AAGjBoB,EAAAA,UAAU,EAAE,EAHK;;AAIjBgB,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,OAAO,IAAIG,WAAJ,CACJ,KADI,EAELJ,IAAI,CAACE,mBAAL,CAAyBD,MAAzB,CAFK,EAGLD,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAHK,CAAP,CAAA;AAKD,GAAA;;AAVgB,CAAZ;;ACAA,MAAMuB,UAAU,gBAAG5D,yBAAK,CAAC6D,aAAN,EAAnB,CAAA;;AAEP,MAAMC,IAAI,GAAG,CAAC;EAAEC,MAAF;AAAUhE,EAAAA,QAAAA;AAAV,CAAD,KAA0B;AACrC,EAAA,MAAM,CAACiE,UAAD,EAAaC,aAAb,CAA8BjE,GAAAA,yBAAK,CAACkE,QAAN,CAAeH,MAAM,CAAC,CAAD,CAArB,CAApC,CAAA;EAEA,oBACE/D,yBAAA,CAAA,aAAA,CAAC,UAAD,CAAY,QAAZ,EAAA;AAAqB,IAAA,KAAK,EAAEgE,UAAAA;GAC1B,eAAAhE,yBAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAI,IAAA,SAAS,EAAC,oDAAA;AAAd,GAAA,EACG+D,MAAM,CAACpD,GAAP,CAAYgC,KAAD,iBACV3C,yBAAA,CAAA,aAAA,CAAA,IAAA,EAAA;IACE,SAAS,EACP,uCACCgE,UAAU,KAAKrB,KAAf,GAAuB,eAAvB,GAAyC,EAD1C,CAFJ;AAKE,IAAA,GAAG,EAAEA,KALP;AAME,IAAA,OAAO,EAAE,MAAMsB,aAAa,CAACtB,KAAD,CAAA;AAN9B,GAAA,EAQGA,KARH,CADD,CADH,CADF,EAeG5C,QAfH,CADF,CAAA;AAmBD,CAtBD;;ACDA,MAAMoE,GAAG,GAAG,CAAC;EAAExB,KAAF;AAAS5C,EAAAA,QAAAA;AAAT,CAAD,KAAyB;AACnC,EAAA,MAAMiE,UAAU,GAAGhE,yBAAK,CAACoE,UAAN,CAAiBR,UAAjB,CAAnB,CAAA;;EAEA,IAAIjB,KAAK,KAAKqB,UAAd,EAA0B;AACxB,IAAA,OAAO,IAAP,CAAA;AACD,GAAA;;AAED,EAAA,OAAOjE,QAAP,CAAA;AACD,CARD;;ACAA,MAAMsE,MAAM,GAAG,CAAC;EAAE1B,KAAF;EAAS5B,IAAT;AAAeuD,EAAAA,KAAAA;AAAf,CAAD,KAA4B;AACzC,EAAA,oBACEtE,wCAACgB,wBAAD,EAAA;AAAM,IAAA,QAAQ,EAAd,IAAA;AAAe,IAAA,IAAI,EAAED,IAAAA;GACnB,eAAAf,yBAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,SAAS,EAAE,sBAAyBsE,GAAAA,KAAAA;GAAQ3B,EAAAA,KAA/C,CADF,CADF,CAAA;AAKD,CAND;;ACDA,MAAM4B,OAAO,GAAG,CAAC;EAAE1D,KAAF;AAASd,EAAAA,QAAAA;AAAT,CAAD,KAAyB;EACvC,oBACEC,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAC,4DAAA;AAAf,GAAA,EACGa,KAAK,iBAAIb,yBAAA,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,EAAKa,KAAL,CADZ,EAEGd,QAFH,CADF,CAAA;AAMD,CAPD;;ACcA,CAAC,OAAOyE,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyCC,MAA1C,EAAkDC,KAAlD,GAA0DA,yBAA1D,CAAA;;AACAC,OAAO,CAAC,+BAAD,CAAP,CAAA;;AAEO,SAASC,KAAT,CAAe;EAAE7E,QAAF;AAAY8E,EAAAA,QAAAA;AAAZ,CAAf,EAAuC;EAC5C,oBACE7E,yBAAA,CAAA,aAAA,CAAC8E,6BAAD,EAAA,QAAA,CAAA,EAAA,EACMC,sBADN,EAAA;AAEE,IAAA,GAAG,EAAEF,QAFP;AAGE,IAAA,QAAQ,EAAEA,QAHZ;AAIE,IAAA,IAAI,EAAE9E,QAJR;AAKE,IAAA,KAAK,EAAEiF,SAAAA;AALT,GAAA,CAAA,EAOG,CAAC;IAAE7E,SAAF;IAAa8E,KAAb;IAAoBC,MAApB;IAA4BC,YAA5B;AAA0CC,IAAAA,aAAAA;AAA1C,GAAD,kBACCpF,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,IAAA,SAAS,EAAEG,SAAhB;AAA2B,IAAA,KAAK,EAAE8E,KAAAA;AAAlC,GAAA,EACGC,MAAM,CAACG,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAA,CAAoB1E,GAApB,CAAwB,CAAC2E,IAAD,EAAOC,CAAP,kBACvBvF,yBAAA,CAAA,aAAA,CAAA,KAAA,EAASmF,YAAY,CAAC;IAAEG,IAAF;AAAQE,IAAAA,GAAG,EAAED,CAAAA;AAAb,GAAD,CAArB,EACGD,IAAI,CAAC3E,GAAL,CAAS,CAAC8E,KAAD,EAAQD,GAAR,kBACRxF,yBAAA,CAAA,aAAA,CAAA,MAAA,EAAUoF,aAAa,CAAC;IAAEK,KAAF;AAASD,IAAAA,GAAAA;AAAT,GAAD,CAAvB,CADD,CADH,CADD,CADH,CARJ,CADF,CAAA;AAqBD,CAAA;AAED,MAAME,KAAK,GAAG;AACZhD,EAAAA,MAAM,EAAE,OADI;AAEZvB,EAAAA,UAAU,EAAE;AACV0D,IAAAA,QAAQ,EAAE;AACRhD,MAAAA,IAAI,EAAEC,MADE;AAER6D,MAAAA,WAAW,EACT,2EAAA;AAHM,KAAA;AADA,GAAA;AAFA,CAAd,CAAA;AAWA,MAAMC,GAAG,GAAG;AACVlD,EAAAA,MAAM,EAAE,KADE;AAEVvB,EAAAA,UAAU,EAAE;AACVwB,IAAAA,KAAK,EAAE;AACLd,MAAAA,IAAI,EAAEC,MAAAA;AADD,KAAA;AADG,GAAA;AAFF,CAAZ,CAAA;AASA,MAAM+D,IAAI,GAAG;AACXnD,EAAAA,MAAM,EAAE,MADG;AAEXvB,EAAAA,UAAU,EAAE,EAFD;;AAGXgB,EAAAA,SAAS,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,IAAA,MAAM0B,MAAM,GAAG3B,IAAI,CAChBG,iBADY,CACMF,MADN,CAAA,CAEZb,MAFY,CAEJF,KAAD,IAAWA,KAAK,IAAIA,KAAK,CAACwE,IAAN,KAAe,KAF9B,CAAA,CAGZnF,GAHY,CAGPiF,GAAD,IAAU,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAAG,CAACzE,UAAJ,CAAewB,KAAzC,GAAiD,IAHnD,CAAf,CAAA;AAKA,IAAA,OAAO,IAAIH,WAAJ,CAAQ,IAAA,CAAKE,MAAb,EAAqB;AAAEqB,MAAAA,MAAAA;AAAF,KAArB,EAAiC3B,IAAI,CAACG,iBAAL,CAAuBF,MAAvB,CAAjC,CAAP,CAAA;AACD,GAAA;;AAVU,CAAb,CAAA;AAaA,MAAM0D,MAAM,GAAG;AACbrD,EAAAA,MAAM,EAAE,QADK;AAEbvB,EAAAA,UAAU,EAAE;AACVwB,IAAAA,KAAK,EAAE;AACLd,MAAAA,IAAI,EAAEC,MAAAA;KAFE;AAIVf,IAAAA,IAAI,EAAE;AACJc,MAAAA,IAAI,EAAEC,MAAAA;KALE;AAOVwC,IAAAA,KAAK,EAAE;AACLzC,MAAAA,IAAI,EAAEC,MAAAA;AADD,KAAA;AAPG,GAAA;AAFC,CAAf,CAAA;AAeA,MAAMkE,OAAO,GAAG;AACdtD,EAAAA,MAAM,EAAE,SADM;AAEdvB,EAAAA,UAAU,EAAE;AACVN,IAAAA,KAAK,EAAE;AACLgB,MAAAA,IAAI,EAAEC,MAAAA;AADD,KAAA;AADG,GAAA;AAFE,CAAhB,CAAA;AASA,MAAMmE,WAAW,GAAG;AAClBvD,EAAAA,MAAM,EAAE,aADU;AAElBvB,EAAAA,UAAU,EAAE,EAAA;AAFM,CAApB,CAAA;AAKA,MAAM+E,IAAI,GAAG;AACXxD,EAAAA,MAAM,EAAE,YADG;AAEXvB,EAAAA,UAAU,EAAE;AACV8B,IAAAA,OAAO,EAAE;AACPpB,MAAAA,IAAI,EAAEC,MAAAA;AADC,KAAA;GAHA;;EAOXK,SAAS,CAACC,IAAD,EAAO;IACd,OAAOA,IAAI,CAACjB,UAAL,CAAgB8B,OAAhB,GACH,IAAIT,WAAJ,CAAQ,YAAR,EAAsB;AAAES,MAAAA,OAAO,EAAEb,IAAI,CAACjB,UAAL,CAAgB8B,OAAAA;KAAjD,EAA4D,CAC1Db,IAAI,CAAC+D,MADqD,CAA5D,CADG,GAIH,IAJJ,CAAA;AAKD,GAAA;;AAbU,CAAb,CAAA;;AAgBA,MAAMC,UAAU,GAAG,CAAC;AAAEnD,EAAAA,OAAAA;AAAF,CAAD,KAAiB;EAClC,OAAOoD,yBAAK,CAACpD,OAAD,CAAZ,CAAA;AACD,CAFD,CAAA;;AAIA,MAAMqD,WAAW,GAAG,CAAC;AAAEvG,EAAAA,QAAAA;AAAF,CAAD,kBAAkBC,yBAAMD,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,QAAN,CAAtC,CAAA;;AAEA,MAAMwG,WAAW,GAAG,CAAC;AAAExG,EAAAA,QAAAA;AAAF,CAAD,kBAAkBC,yBAAMD,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,QAAN,CAAtC,CAAA;;AAEA,MAAMyG,QAAQ,GAAG,CAAC;EAAEvF,IAAF;EAAQqC,MAAR;AAAgBvD,EAAAA,QAAAA;AAAhB,CAAD,KAAgC;AAC/C,EAAA,oBACEC,wCAACgB,wBAAD,EAAA;AAAM,IAAA,IAAI,EAAEC,IAAZ;IAAkB,QAAQ,EAAA,IAAA;GACxB,eAAAjB,yBAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,IAAA,MAAM,EAAEsD,MAAAA;GAASvD,EAAAA,QAApB,CADF,CADF,CAAA;AAKD,CAND,CAAA;;AAQO,SAAS0G,aAAT,CAAuB;AAAEC,EAAAA,IAAAA;AAAF,CAAvB,EAAiC;AACtC,EAAA,MAAMC,SAAS,GAAG,IAAIC,2BAAO,CAACC,SAAZ,CAAsB;AAAEX,IAAAA,IAAI,EAAE,IAAR;AAAcY,IAAAA,OAAO,EAAE,IAAA;AAAvB,GAAtB,CAAlB,CAAA;EACA,MAAM5B,MAAM,GAAGyB,SAAS,CAACI,QAAV,CAAmBL,IAAI,CAACzD,OAAxB,CAAf,CAAA;AACA,EAAA,MAAM+D,GAAG,GAAGJ,2BAAO,CAACP,KAAR,CAAcnB,MAAd,CAAZ,CAAA;AACA,EAAA,MAAM+B,QAAQ,GAAGC,aAAa,CAACF,GAAD,CAA9B,CAAA;AACA,EAAA,OAAOJ,2BAAO,CAACzE,SAAR,CAAkB8E,QAAlB,EAA4B;AACjCE,IAAAA,KAAK,EAAE;MACLzB,KADK;MAEL9D,OAFK;MAGL2B,KAHK;MAILxC,IAJK;MAKL8B,YALK;MAMLJ,WANK;MAOLyD,IAPK;AAQLvC,MAAAA,GAAAA;KAT+B;AAWjCyD,IAAAA,IAAI,EAAE;MACJvB,IADI;MAEJD,GAFI;MAGJG,MAHI;MAIJC,OAJI;MAKJC,WALI;MAMJG,UANI;MAOJE,WAPI;AAQJE,MAAAA,QAAAA;AARI,KAAA;AAX2B,GAA5B,CAAP,CAAA;AAsBD,CAAA;AAEM,SAASa,cAAT,CAAwB;AAAEpE,EAAAA,OAAAA;AAAF,CAAxB,EAAqC;EAC1C,OAAO2D,2BAAO,CAACU,SAAR,CAAkBC,KAAlB,CAAwBtE,OAAxB,EAAiCjD,yBAAjC,EAAwC;AAC7CwH,IAAAA,UAAU,EAAE;MACV5C,KADU;MAEVd,IAFU;MAGVK,GAHU;MAIVE,MAJU;MAKVE,OALU;MAMVgC,WANU;MAOVH,UAPU;AAQVI,MAAAA,QAAAA;AARU,KAAA;AADiC,GAAxC,CAAP,CAAA;AAYD,CAAA;;AAED,MAAMU,aAAa,GAAIO,UAAD,IAAgB;EACpC,MAAMC,cAAc,GAAG,iBAAvB,CAAA;EACA,MAAMC,eAAe,GAAG,oBAAxB,CAAA;;EAEA,UAAUC,oBAAV,CAA+BT,KAA/B,EAAsC;IACpC,IAAIU,OAAO,GAAG,EAAd,CAAA;IACA,IAAIC,cAAc,GAAG,CAArB,CAAA;;AACA,IAAA,KAAK,MAAMC,CAAX,IAAgBZ,KAAhB,EAAuB;AACrBW,MAAAA,cAAc,IAAI,CAAlB,CAAA;MACA,IAAIC,CAAC,CAAClG,IAAF,KAAW,WAAf,EAA4BgG,OAAO,CAAC3E,IAAR,CAAa6E,CAAb,CAAA,CAAA;;MAC5B,IAAIA,CAAC,CAAClG,IAAF,KAAW,WAAX,IAA0BiG,cAAc,KAAKX,KAAK,CAACa,MAAvD,EAA+D;AAC7D,QAAA,MAAMH,OAAN,CAAA;AACAA,QAAAA,OAAO,GAAG,EAAV,CAAA;AACD,OAAA;AACF,KAAA;AACF,GAAA;;EAED,SAASI,yBAAT,CAAmCjB,GAAnC,EAAwC;AACtC,IAAA,MAAMkB,SAAS,GAAGlB,GAAG,CAACmB,IAAJ,EAAlB,CAAA;AACA,IAAA,IAAIC,SAAJ,CAAA;IACA,IAAIC,KAAK,GAAG,KAAZ,CAAA;;AACA,IAAA,KAAK,MAAMjG,IAAX,IAAmB8F,SAAnB,EAA8B;AAC5B,MAAA,IACE9F,IAAI,CAACjB,UAAL,CAAgB8B,OAAhB,IACAyE,cAAc,CAACY,IAAf,CAAoBlG,IAAI,CAACjB,UAAL,CAAgB8B,OAApC,CAFF,EAGE;AACAoF,QAAAA,KAAK,GAAG,IAAR,CAAA;AACAH,QAAAA,SAAS,CAACK,MAAV,EAAA,CAAA;AACD,OAAA;;MACD,IAAInG,IAAI,CAACP,IAAL,KAAc,QAAlB,EAA4BuG,SAAS,GAAGhG,IAAZ,CAAA;AAC7B,KAAA;;AACD,IAAA,OAAOiG,KAAK,GAAGD,SAAH,GAAepD,SAA3B,CAAA;AACD,GAAA;;EAED,SAASwD,gBAAT,CAA0BxB,GAA1B,EAA+B;AAC7B;AACA,IAAA,MAAMyB,eAAe,GAAGR,yBAAyB,CAACjB,GAAD,CAAjD,CAAA;AACA,IAAA,IAAI,CAACyB,eAAL,EAAsB,OAHO;;IAK7B,MAAMC,MAAM,GAAG,IAAI3F,WAAG,CAACC,IAAR,CAAa,MAAb,EAAqB;AAClC2F,MAAAA,OAAO,EAAE,IADyB;AAElC/F,MAAAA,KAAK,EAAE,WAAA;KAFM,CAAf,CAL6B;;AAU7B,IAAA,MAAMgG,OAAO,GAAGhB,oBAAoB,CAACa,eAAe,CAAC1I,QAAjB,CAApC,CAAA;;AACA,IAAA,KAAK,MAAM8I,EAAX,IAAiBD,OAAjB,EAA0B;AACxB,MAAA,MAAMnD,KAAK,GAAGiC,cAAc,CAACoB,IAAf,CAAoBD,EAAE,CAAC,CAAD,CAAF,CAAM1H,UAAN,CAAiB8B,OAArC,CAAd,CAAA;;AACA,MAAA,IAAIwC,KAAJ,EAAW;AACT;QACAoD,EAAE,CAAC,CAAD,CAAF,CAAM1H,UAAN,CAAiB8B,OAAjB,GAA2B4F,EAAE,CAAC,CAAD,CAAF,CAAM1H,UAAN,CAAiB8B,OAAjB,CAAyBvB,OAAzB,CACzB+D,KAAK,CAAC,CAAD,CADoB,EAEzB,EAFyB,CAA3B,CAFS;;AAOT,QAAA,MAAMrE,EAAE,GAAGqE,KAAK,CAAC,CAAD,CAAhB,CAAA;QACA,MAAMsD,MAAM,GAAG,IAAIhG,WAAG,CAACC,IAAR,CACb,cADa,EAEb;UACE5B,EAAE,EAAG,CAAIA,EAAAA,EAAAA,EAAG,CADd,CAAA;UAEEH,IAAI,EAAG,SAAQG,EAAG,CAAA,CAAA;SAJP,EAMbyH,EANa,CAAf,CAAA;QAQAH,MAAM,CAACxF,IAAP,CAAY6F,MAAZ,CAAA,CAAA;AACD,OAAA;AACF,KAAA;;AACD/B,IAAAA,GAAG,CAACjH,QAAJ,CAAaiJ,GAAb,GAhC6B;;IAiC7BhC,GAAG,CAAC9D,IAAJ,CAASwF,MAAT,CAAA,CAAA;AACD,GAAA;;EAED,SAASO,mBAAT,CAA6BjC,GAA7B,EAAkC;IAChC,IAAIkC,MAAM,GAAGlC,GAAb,CAAA;;AACA,IAAA,KAAK,MAAM5E,IAAX,IAAmB4E,GAAG,CAACmB,IAAJ,EAAnB,EAA+B;AAC7B,MAAA,IAAI/F,IAAI,CAACjB,UAAL,CAAgB8B,OAApB,EAA6B;AAC3B;QACA,MAAMwC,KAAK,GAAGkC,eAAe,CAACmB,IAAhB,CAAqB1G,IAAI,CAACjB,UAAL,CAAgB8B,OAArC,CAAd,CAAA;;AACA,QAAA,IAAIwC,KAAJ,EAAW;AACT;AACA,UAAA,MAAM,CAAC0D,QAAD,EAAWC,QAAX,CAAA,GAAuBhH,IAAI,CAACjB,UAAL,CAAgB8B,OAAhB,CAAwBoG,KAAxB,CAA8B5D,KAAK,CAAC,CAAD,CAAnC,CAA7B,CAAA;AACArD,UAAAA,IAAI,CAACjB,UAAL,CAAgB8B,OAAhB,GAA0BkG,QAA1B,CAHS;;AAMT,UAAA,MAAM/H,EAAE,GAAGqE,KAAK,CAAC,CAAD,CAAhB,CAAA;UACA,MAAMoD,EAAE,GAAG,IAAI9F,WAAG,CAACC,IAAR,CAAa,aAAb,EAA4B;YACrC5B,EAAE,EAAG,CAAOA,KAAAA,EAAAA,EAAG,CADsB,CAAA;YAErCH,IAAI,EAAG,CAAKG,GAAAA,EAAAA,EAAG,CAFsB,CAAA;YAGrCuB,KAAK,EAAG,GAAEvB,EAAG,CAAA,CAAA;AAHwB,WAA5B,CAAX,CAAA;AAKA8H,UAAAA,MAAM,CAAChG,IAAP,CAAY2F,EAAZ,EAZS;;UAeT,MAAMS,IAAI,GAAG,IAAIvG,WAAG,CAACC,IAAR,CAAa,MAAb,EAAqB;AAAEC,YAAAA,OAAO,EAAEmG,QAAAA;AAAX,WAArB,CAAb,CAAA;UACAF,MAAM,CAAChG,IAAP,CAAYoG,IAAZ,CAAA,CAAA;AACD,SAAA;AACF,OAtB4B;;;MAwB7B,IAAIlH,IAAI,CAACP,IAAL,IAAa,QAAjB,EAA2BqH,MAAM,GAAG9G,IAAT,CAAA;AAC5B,KAAA;AACF,GAAA;;EAED6G,mBAAmB,CAACxB,UAAD,CAAnB,CAAA;EACAe,gBAAgB,CAACf,UAAD,CAAhB,CAAA;AACA,EAAA,OAAOA,UAAP,CAAA;AACD,CAvGD,CAAA;;AAyGA,MAAM8B,QAAQ,GAAG;AACflD,EAAAA,KAAK,EAAEI,aADQ;AAEf/D,EAAAA,MAAM,EAAE2E,cAAAA;AAFO;;;;;;;;"}